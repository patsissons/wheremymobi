{"version":3,"sources":["webpack:///./src/layouts/DefaultLayout.tsx","webpack:///./src/components/pages/IndexPage/IndexPage.tsx","webpack:///./src/pages/404.ts","webpack:///./src/components/StationMap/components/StationInfo/StationInfo.tsx","webpack:///./src/components/StationMap/components/StationInfo/index.ts","webpack:///./src/components/StationMap/components/StationMarker/StationMarker.tsx","webpack:///./src/components/StationMap/components/StationMarker/index.ts","webpack:///./src/components/StationMap/StationMap.tsx","webpack:///./src/components/StationMap/index.ts","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/layouts/DefaultLayout.module.scss","webpack:///./src/components/StationMap/StationMap.module.scss","webpack:///./src/components/pages/IndexPage/index.ts","webpack:///./src/components/pages/NotFoundPage/NotFoundPage.tsx","webpack:///./src/components/pages/NotFoundPage/index.ts","webpack:///./src/components/index.ts"],"names":["Header","_ref","description","logo","logoUrl","react","className","DefaultLayout_module","href","src","query","layouts_DefaultLayout","Object","Recompose_esm","_ref3","props","assign","gatsby_browser_entry","data","_3229557108","_ref4","site","_ref2","_ref2$site$siteMetada","siteMetadata","objectWithoutPropertiesLoose_default","IndexPage","_ref$data","allStation","totalCount","edges","StationMap","stations","__webpack_require__","d","__webpack_exports__","IndexPage_query","r","_components__WEBPACK_IMPORTED_MODULE_0__","components_StationInfo","station","number","toString","padStart","name","operative","bikes","free","total","target","lat","lng","components_StationMarker","handleOnClick","showInfo","icon","lib","onClick","url","labelOrigin","x","y","label","text","fontSize","fontWeight","StationMap_StationMap","_React$PureComponent","_this","_len","arguments","length","args","Array","_key","call","apply","this","concat","renderInfo","selectedStation","position","onCloseClick","hideInfo","renderMarker","key","id","renderMarkers","clustered","markers","from","values","map","MarkerClusterer_default","a","averageCenter","enableRetinaIcons","gridSize","inheritsLoose_default","prototype","render","defaultZoom","defaultCenter","components_StationMap_StationMap","reduce","node","set","Map","googleMapURL","loadingElement","StationMap_module","containerElement","mapElement","undefined","m","module","exports","default","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_wait_for_route_change__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4___default","_parse_path__WEBPACK_IMPORTED_MODULE_5__","createContext","createElement","Consumer","staticQueryData","children","Error","propTypes","object","string","isRequired","func","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","location","pageResources","getResourcesForPathname","pathname","shape","Container","Content","HeaderLogo","HeaderContent","LoadingContainer","MapContainer","pages_IndexPage","pages_NotFoundPage"],"mappings":"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","file":"component---src-pages-404-ts-cd676cad0daecb23e092.js","sourcesContent":["import * as React from 'react';\nimport {graphql, Link, StaticQuery} from 'gatsby';\nimport {compose, fromRenderProps} from 'recompose';\n\nimport * as styles from './DefaultLayout.module.scss';\n\nexport interface HeaderProps {\n  description: string;\n  logo: string;\n  logoUrl: string;\n}\n\nexport function Header({description, logo, logoUrl}: HeaderProps) {\n  return (\n    <div className={styles.Header}>\n      <div className={styles.HeaderLogo}>\n        <a href={logoUrl}>\n          <img src={logo} />\n        </a>\n      </div>\n      <div className={styles.HeaderContent}>\n        <h1>{description}</h1>\n      </div>\n    </div>\n  );\n}\n\nexport interface Props {\n  site: {\n    siteMetadata: HeaderProps;\n  };\n}\n\nexport function DefaultLayout({\n  site: {\n    siteMetadata: {description, logo, logoUrl},\n  },\n  ...props\n}: Props) {\n  return (\n    <div className={styles.Container}>\n      <Header description={description} logo={logo} logoUrl={logoUrl} />\n      <div className={styles.Content} {...props} />\n    </div>\n  );\n}\n\nconst query = graphql`\n  query {\n    site {\n      siteMetadata {\n        description\n        logo\n        logoUrl\n      }\n    }\n  }\n`;\n\nfunction DefaultLayoutQuery({...props}: any) {\n  return <StaticQuery query={query} {...props} />;\n}\n\nexport default compose<Props, {}>(\n  fromRenderProps<Props, {}>(DefaultLayoutQuery, ({site}) => ({site}))\n)(DefaultLayout);\n","import * as React from 'react';\nimport {graphql} from 'gatsby';\nimport {DefaultLayout} from '~/layouts';\nimport StationMap, {StationMapProps} from '~/components/StationMap';\n\nexport interface Props {\n  data?: {\n    allStation: StationMapProps['stations'];\n  };\n}\n\nexport function IndexPage({\n  data: {allStation} = {allStation: {totalCount: 0, edges: []}},\n}: Props) {\n  return (\n    <DefaultLayout>\n      <StationMap stations={allStation} />\n    </DefaultLayout>\n  );\n}\n\nexport const query = graphql`\n  query {\n    ...StationMapFragment\n  }\n`;\n\nexport default IndexPage;\n","import {NotFoundPage} from '~/components';\n\nexport default NotFoundPage;\n","import * as React from 'react';\nimport {StationNode} from '~/gatsby-source-stations';\n\nexport interface Props {\n  station: StationNode;\n}\n\nexport function StationInfo({station}: Props) {\n  return (\n    <div>\n      <ul>\n        <li>{`[${station.number.toString().padStart(4, '0')}] ${station.name}${\n          station.operative ? '' : ' (CLOSED)'\n        }`}</li>\n        <li>{`${station.bikes} bikes / ${station.free} slots (${\n          station.total\n        } total)`}</li>\n        <li>\n          <a\n            target=\"_blank\"\n            href={`https://www.google.com/maps/@${station.lat},${\n              station.lng\n            },15z`}\n          >{`${station.lat}, ${station.lng}`}</a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default StationInfo;\n","import StationInfo, {Props} from './StationInfo';\n\nexport type StationInfoProps = Props;\nexport default StationInfo;\n","import * as React from 'react';\nimport {Marker, MarkerProps} from 'react-google-maps';\nimport {compose, withHandlers} from 'recompose';\nimport {StationNode} from '~/gatsby-source-stations';\n\nexport interface ActionProps {\n  showInfo(station: StationNode): void;\n}\n\nexport interface Props extends ActionProps, MarkerProps {\n  station: StationNode;\n}\n\ninterface HandlerProps {\n  handleOnClick(): void;\n}\n\ntype ComposedProps = Props & HandlerProps;\n\n// const defaultIcon = {\n//   // path:\n//   //   'M49.609,2.168c-22.481,0-40.701,18.21-40.701,40.694c0,17.634,11.226,32.592,26.904,38.244l5.995,7.457  l7.408,9.207l7.404-9.207l5.671-7.049c16.256-5.328,28.013-20.604,28.013-38.652C90.303,20.378,72.074,2.168,49.609,2.168z   M49.608,75.842c-18.22,0-32.97-14.77-32.97-32.98c0-18.21,14.75-32.979,32.97-32.979c18.21-0.001,32.967,14.769,32.967,32.979  C82.575,61.072,67.818,75.842,49.608,75.842z',\n//   // url: `data:image/svg+xml;utf-8,<svg width=\"100px\" height=\"100px\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\" fill=\"#000\">\n//   //   <g>\n//   //    <path id=\"bg\" d=\"m49.609,2.168c-22.481,0 -40.701,18.21 -40.701,40.694c0,17.634 11.226,32.592 26.904,38.244l5.995,7.457l7.408,9.207l7.404,-9.207l5.671,-7.049c16.256,-5.328 28.013,-20.604 28.013,-38.652c0,-22.484 -18.229,-40.694 -40.694,-40.694z\" fill=\"#fff\"/>\n//   //    <path id=\"fill\" d=\"m49.609,2.168c-22.481,0 -40.701,18.21 -40.701,40.694c0,17.634 11.226,32.592 26.904,38.244l5.995,7.457l7.408,9.207l7.404,-9.207l5.671,-7.049c16.256,-5.328 28.013,-20.604 28.013,-38.652c0,-22.484 -18.229,-40.694 -40.694,-40.694zm-0.001,73.674c-18.22,0 -32.97,-14.77 -32.97,-32.98c0,-18.21 14.75,-32.979 32.97,-32.979c18.21,-0.001 32.967,14.769 32.967,32.979c0,18.21 -14.757,32.98 -32.967,32.98z\"/>\n//   //   </g>\n//   //  </svg>`,\n//   fillColor: '#000000',\n//   fillOpacity: 1,\n//   strokeWeight: 0,\n//   scale: 1,\n// };\n\nexport function StationMarker({\n  handleOnClick,\n  showInfo,\n  station,\n  ...props\n}: ComposedProps) {\n  const fillColor =\n    station.bikes > 10\n      ? 'forestgreen'\n      : station.bikes > 5\n        ? 'coral'\n        : 'crimson';\n  const icon = `data:image/svg+xml;utf-8,<svg width=\"100px\" height=\"100px\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 100 100\" xml:space=\"preserve\" fill=\"${fillColor}\">\n  <path id=\"bg\" fill=\"#ffffff\" d=\"m77.438,31.70225c-0.139,-5.802 -1.797,-10.248 -4.202,-14.012c-2.307,-3.607 -5.341,-6.666 -9.258,-8.958c-4.793,-2.803 -11.556,-4.639 -18.766,-3.553c-8.819,1.33 -15.391,6.39 -19.316,12.561c-2.385,3.752 -4.039,8.341 -4.152,14.062c-0.117,5.854 1.706,10.369 3.954,14.261c1.122,1.948 2.132,3.929 3.302,5.805c3.504,5.621 7.291,10.97 10.559,16.765c4.406,7.812 8.044,16.242 10.108,26.371c2.984,-15.367 9.802,-26.583 17.063,-37.58c2.439,-3.692 4.867,-7.382 6.806,-11.41c0.993,-2.063 2.107,-3.996 2.803,-6.306c0.684,-2.283 1.172,-5.035 1.099,-8.006z\"/>\n  <path id=\"fill\" d=\"M77.438,31.834c-0.139-5.802-1.797-10.248-4.202-14.012c-2.307-3.607-5.341-6.666-9.258-8.958   c-4.793-2.803-11.556-4.639-18.766-3.553c-8.819,1.33-15.391,6.39-19.316,12.561c-2.385,3.752-4.039,8.341-4.152,14.062   c-0.117,5.854,1.706,10.369,3.954,14.261C26.82,48.143,27.83,50.124,29,52c3.504,5.621,7.291,10.97,10.559,16.765   c4.406,7.812,8.044,16.242,10.108,26.371c2.984-15.367,9.802-26.583,17.063-37.58c2.439-3.692,4.867-7.382,6.806-11.41   c0.993-2.063,2.107-3.996,2.803-6.306C77.023,37.557,77.511,34.805,77.438,31.834z M49.685,52.47   c-11.004,0-19.923-8.92-19.923-19.923c0-11.002,8.919-19.922,19.923-19.922c11.003,0,19.923,8.92,19.923,19.922   C69.607,43.55,60.688,52.47,49.685,52.47z\"/>\n</svg>`;\n\n  return (\n    <Marker\n      onClick={handleOnClick}\n      // defaultIcon={icon}\n      icon={{\n        url: icon,\n        labelOrigin: {x: 49, y: 33},\n      }}\n      label={{\n        text: `${station.bikes} | ${station.free}`,\n        fontSize: '0.75rem',\n        fontWeight: 'bold',\n      }}\n      // labelContent={`${station.bikes} / ${station.free}`}\n      // labelAnchor={{x: 0, y: 0}}\n      // labelStyle={{fontSize: '20rem'} as any}\n      {...props}\n    />\n  );\n}\n\nexport default compose<ComposedProps, Props>(\n  withHandlers({\n    handleOnClick({showInfo, station}: Props) {\n      return () => showInfo(station);\n    },\n  })\n)(StationMarker);\n","import StationMarker, {ActionProps, Props} from './StationMarker';\n\nexport type StationMarkerActionProps = ActionProps;\nexport type StationMarkerProps = Props;\nexport default StationMarker;\n","import * as React from 'react';\nimport {compose, mapProps, withProps, withStateHandlers} from 'recompose';\nimport {\n  BicyclingLayer,\n  GoogleMap,\n  InfoWindow,\n  withScriptjs,\n  WithScriptjsProps,\n  withGoogleMap,\n  WithGoogleMapProps,\n} from 'react-google-maps';\nimport MarkerClusterer from 'react-google-maps/lib/components/addons/MarkerClusterer';\nimport {graphql} from 'gatsby';\nimport {StationNode} from '~/gatsby-source-stations';\nimport {StationInfo, StationMarker} from './components';\nimport {StationMarkerActionProps} from './components/StationMarker';\n\nimport * as styles from './StationMap.module.scss';\n\nexport interface Props {\n  stations: {\n    totalCount: number;\n    edges: {node: StationNode}[];\n  };\n}\n\ninterface MappedProps {\n  stations: Map<string, StationNode>;\n}\n\ninterface ActionProps extends StationMarkerActionProps {\n  hideInfo(): void;\n}\n\ninterface StateProps {\n  selectedStation?: StationNode;\n}\n\ntype ComposedProps = MappedProps &\n  ActionProps &\n  StateProps &\n  WithScriptjsProps &\n  WithGoogleMapProps;\n\nexport class StationMap extends React.PureComponent<ComposedProps> {\n  renderInfo = () => {\n    const {selectedStation: station} = this.props;\n\n    return (\n      (station && (\n        <InfoWindow\n          position={{lat: station.lat, lng: station.lng}}\n          onCloseClick={this.props.hideInfo}\n        >\n          <StationInfo station={station} />\n        </InfoWindow>\n      )) ||\n      false\n    );\n  };\n\n  renderMarker = (station: StationNode) => {\n    return (\n      <StationMarker\n        key={station.id}\n        station={station}\n        showInfo={this.props.showInfo}\n        position={{lat: station.lat, lng: station.lng}}\n      />\n    );\n  };\n\n  renderMarkers = (clustered = true) => {\n    const markers = Array.from(this.props.stations.values()).map(\n      this.renderMarker\n    );\n\n    return clustered ? (\n      <MarkerClusterer averageCenter enableRetinaIcons gridSize={30}>\n        {markers}\n      </MarkerClusterer>\n    ) : (\n      markers\n    );\n  };\n\n  render() {\n    return (\n      <GoogleMap\n        defaultZoom={13}\n        defaultCenter={{lat: 49.279627, lng: -123.121116}}\n        onClick={this.props.hideInfo}\n      >\n        <BicyclingLayer />\n        {this.renderInfo()}\n        {this.renderMarkers()}\n      </GoogleMap>\n    );\n  }\n}\n\nexport const query = graphql`\n  fragment StationMapFragment on Query {\n    allStation {\n      totalCount\n      edges {\n        node {\n          id\n          number\n          name\n          lat\n          lng\n          bikes\n          free\n          total\n          operative\n          style\n          valid\n        }\n      }\n    }\n  }\n`;\n\nconst key = 'AIzaSyBXrYScIU6sWYUWLLlovYhzq-bLzwTgAoc';\n\nexport default compose<ComposedProps, Props>(\n  mapProps<MappedProps, Props>(({stations: {edges}}) => {\n    return {\n      stations: edges.reduce((map, {node}) => {\n        return map.set(node.id, node);\n      }, new Map<string, StationNode>()),\n    };\n  }),\n  withProps({\n    googleMapURL: `https://maps.googleapis.com/maps/api/js?key=${key}&v=3.exp&libraries=geometry,drawing,places`,\n    loadingElement: <div className={styles.LoadingContainer} />,\n    containerElement: <div className={styles.MapContainer} />,\n    mapElement: <div className={styles.Map} />,\n  }),\n  withStateHandlers<StateProps, any, ComposedProps>(\n    {},\n    {\n      showInfo() {\n        return (selectedStation: StationNode) => ({selectedStation});\n      },\n      hideInfo() {\n        return () => ({selectedStation: undefined});\n      },\n    }\n  ),\n  withScriptjs,\n  withGoogleMap\n)(StationMap);\n","import StationMap, {Props} from './StationMap';\n\nexport type StationMapProps = Props;\nexport default StationMap;\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport { waitForRouteChange } from \"./wait-for-route-change\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  waitForRouteChange,\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"DefaultLayout-module--Container--3gsXm\",\"Content\":\"DefaultLayout-module--Content--s5QCN\",\"Header\":\"DefaultLayout-module--Header--3j_Vz\",\"HeaderLogo\":\"DefaultLayout-module--HeaderLogo--2R2pt\",\"HeaderContent\":\"DefaultLayout-module--HeaderContent--NWecx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoadingContainer\":\"StationMap-module--LoadingContainer--3ziae\",\"MapContainer\":\"StationMap-module--MapContainer--3ypYa\",\"Map\":\"StationMap-module--Map--foP4U\"};","import IndexPage, {Props} from './IndexPage';\n\nexport type IndexPageProps = Props;\nexport default IndexPage;\n","import * as React from 'react';\n\nexport function NotFoundPage() {\n  return (\n    <div>\n      <h1>NOT FOUND</h1>\n      <p>You just hit a route that doesn&#39;t exist... the sadness.</p>\n    </div>\n  );\n}\n\nexport default NotFoundPage;\n","import NotFoundPage from './NotFoundPage';\n\nexport default NotFoundPage;\n","export {IndexPage, NotFoundPage} from './pages';\nexport {default as StationMap} from './StationMap';\n"],"sourceRoot":""}