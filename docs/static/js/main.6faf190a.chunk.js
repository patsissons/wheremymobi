(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports={Header:"Header_Header__1XO4R",HeaderLogo:"Header_HeaderLogo__1dLj0",HeaderContent:"Header_HeaderContent__3wHIB"}},14:function(e,t,n){e.exports={LoadingContainer:"Loader_LoadingContainer__1zHC6",Loader:"Loader_Loader__3w7V8"}},17:function(e,t,n){e.exports={Container:"App_Container__Sk-T4",Content:"App_Content__2YSLD"}},18:function(e,t,n){"use strict";(function(e){var t=n(22);n.n(t).a.config();("undefined"===typeof e?{}:e).env}).call(this,n(13))},19:function(e){e.exports={name:"wheremymobi",description:"Find mobi bikes in Vancouver, BC.",version:"1.0.0",private:!0,author:{name:"Pat Sissons",email:"patricksissons@gmail.com",url:"https://github.com/patsissons"},repository:{type:"git",url:"git+https://github.com/patsissons/wheremymobi.git"},bugs:{url:"https://github.com/patsissons/wheremymobi/issues"},homepage:"https://wheremymobi.com",keywords:["mobi","bike"],license:"MIT",dependencies:{"@google/markerclustererplus":"^2.0.0","@googlemap-react/core":"^0.1.0","@shopify/react-graphql":"^3.0.0","@shopify/react-hooks":"^1.0.0","@shopify/react-i18n":"^1.0.0","@shopify/useful-types":"^1.0.0","apollo-server-express":"^2.0.0",classnames:"^2.0.0",graphql:"^14.0.0","graphql-tag":"^2.0.0","isomorphic-fetch":"^2.0.0",moment:"^2.0.0","node-sass":"^4.0.0",react:"~16.9.0-alpha","react-dom":"~16.9.0-alpha","react-spinkit":"^3.0.0",scriptjs:"^2.0.0",typescript:"~3.5.0"},devDependencies:{"@shopify/react-testing":"^1.0.0","@types/classnames":"^2.0.0","@types/dotenv":"^6.0.0","@types/fs-extra":"^7.0.0","@types/googlemaps":"^3.0.0","@types/graphql":"^14.0.0","@types/isomorphic-fetch":"^0.0.35","@types/jest":"^24.0.0","@types/node":"^12.0.0","@types/react":"~16.8.0","@types/react-dom":"~16.8.0","@types/react-spinkit":"^3.0.0","del-cli":"^2.0.0",dotenv:"^8.0.0",eslint:"^5.0.0","eslint-plugin-shopify":"^28.0.0","eslint-stats":"^1.0.0",express:"^4.0.0","fs-extra":"^8.0.0",husky:"^2.0.0",ncp:"^2.0.0",prettier:"^1.0.0","pretty-quick":"^1.0.0","react-scripts":"^3.0.0",serve:"^11.0.0"},resolutions:{"eslint-plugin-import":"2.17.2"},scripts:{start:"react-scripts start",build:"react-scripts build",test:"react-scripts test",eject:"react-scripts eject",clean:"del build docs .cache",deploy:"yarn clean && yarn build && ncp build docs",lint:"yarn lint:ts","lint:stats":"yarn lint:ts --format node_modules/eslint-stats/byError.js","lint:ts":"eslint . --ext .ts --ext .tsx --max-warnings 0 --format codeframe",pretty:"prettier --write '**/*.{css,scss,js,json,md,ts,tsx,yml}'",server:"serve -s build",validate:"tsc --noEmit"},engines:{node:">=11.0.0"},eslintConfig:{extends:["plugin:shopify/react","plugin:shopify/typescript","plugin:shopify/jest","plugin:shopify/prettier"],settings:{react:{version:"16.9"}},rules:{"eslint-comments/no-unlimited-disable":"off","no-empty-pattern":"off","no-redeclare":"off","no-restricted-globals":"off","shopify/images-no-direct-imports":"off","shopify/strict-component-boundaries":"off"},overrides:[{parserOptions:{project:"./tsconfig.json"},files:["*.ts","*.tsx"]}]},eslintIgnore:["/.cache","/build","/docs","/public"],husky:{hooks:{"pre-commit":"pretty-quick --staged"}},browserslist:{production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}},23:function(e,t,n){e.exports={CustomButton:"CustomButton_CustomButton__2nL-I"}},25:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAApUlEQVR4AY3RtVUFMBQA0IszAwyDywTQQ4PtgjXIENDiFVbivgHuHlyS8+22yXMZVCrAtDJ5hezfqNDnSBAEkzKqsiOYMSB41CSDIktONMDvl2IVIh2CdkArYFS3yKp1qR0rIjfGpYZdiJwakhpzLbJiT2rDqkiv0aTtNkFneq9iUOseNDixrFjq+0swZFawpVpGE4IgONKrgswqLAgyS74VoJLUG1g+MxexkmmNAAAAAElFTkSuQmCC"},26:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAA/ElEQVR4AZ3KAUQDQAAAwJNCrCJKRgCEMFBEy6qAEgohBSChUpAAoAWqAEFQAYwMUm1jIESEyhgUgUYbwbZvAMyUDsD5vzEZ635xL6jp0dKwXieCJ21aWFRVMWtCnxaWVAXBt2ktTKoLgjU5dWdWdGuyJwiSiLgQBCOaDPoQXGoHURO6AIjLKys6NORRcIqIY0VleQkYUbMrYdu7axGvsrjxbMa8czWj3DoADPgUl5U1rmQAkHRHRQxAypZGsikFIKZMQQLAg2WNZFkOwJwC+9I6wIayfjEx/UrioM+LJJ0yio6kVSwCWPDlypE3GZ3AlB2rogAgasWOKX/1AyBMVBoNviXZAAAAAElFTkSuQmCC"},27:function(e,t,n){e.exports={MapContainer:"StationMap_MapContainer__2mxHY"}},31:function(e,t,n){e.exports=n(64)},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(4),i=n.n(r),s=n(2),c=n(21),u=n.n(c),l=n(14),p=n.n(l),m=["double-bounce","chasing-dots","circle","cube-grid"];function f(e){var t=e.name,n=void 0===t?m[Math.floor(Math.random()*m.length)]:t;return n?o.a.createElement("div",{className:p.a.LoadingContainer},o.a.createElement(u.a,{className:p.a.Loader,name:n})):null}n(18);var d=n(19),g=n(12),b=n.n(g);function v(){return o.a.createElement("div",{className:b.a.Header},o.a.createElement("div",{className:b.a.HeaderLogo},o.a.createElement("a",{href:"https://www.mobibikes.ca/en#the-map"},o.a.createElement("img",{alt:"logo",src:"https://www.mobibikes.ca/sites/all/themes/smoove_bootstrap/logo.png"}))),o.a.createElement("div",{className:b.a.HeaderContent},o.a.createElement("h1",null,d.description)))}var h=n(1),w={maps:{}};function y(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(window.google)return window.google;if(e)return w;throw new Error("google.maps API has not yet loaded")}function O(){return[y(),y]}var A=n(30),E=n(5),j=n.n(E),k=n(23),C=n.n(k);function x(e){var t=e.className,n=Object(A.a)(e,["className"]);return o.a.createElement("button",Object.assign({className:j()(C.a.CustomButton,t),type:"button"},n))}function S(e){var t=e.bindingPosition,n=void 0===t?"RIGHT_TOP":t,o=e.children,r=e.onMounted,c=void 0===r?_:r,u=Object(a.useContext)(s.c).state,l=Object(a.useState)(!1),p=Object(h.a)(l,2),m=p[0],f=p[1],d=Object(a.useState)(document.createElement("div")),g=Object(h.a)(d,1)[0],b=O(),v=Object(h.a)(b,1)[0];return Object(a.useLayoutEffect)(function(){u&&u.map&&!m&&(u.map.controls[v.maps.ControlPosition[n]].push(g),c(g),f(!0))},[n,g,v.maps.ControlPosition,m,c,u,u.map]),"undefined"===typeof document?null:i.a.createPortal(o,g)}function _(e){e.style.margin="10px 10px 23px"}var N=n(8),I=n.n(N);function L(e){var t=e.followGps,n=e.position,a=e.onClick;return o.a.createElement(x,{"aria-label":"Gps Center",className:I.a.GpsButton,disabled:!M(n)||t,onClick:a},o.a.createElement("span",{className:j()(I.a.GpsIcon,n&&(t?I.a.GpsIconActive:I.a.GpsIconInactive))}))}function M(e){return e&&0!==e.coords.latitude&&0!==e.coords.longitude}function B(e){var t=e.color,n=void 0===t?"magenta":t,a=e.coords,r=(e.timestamp,O()),i=Object(h.a)(r,1)[0],c=a.accuracy,u=a.heading,l={lat:a.latitude,lng:a.longitude};return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.b,{opts:{center:l,radius:c,fillColor:n,strokeColor:n,fillOpacity:.25,strokeWeight:1}}),o.a.createElement(s.g,{opts:{icon:{anchor:new i.maps.Point(0,2.6),path:i.maps.SymbolPath.FORWARD_CLOSED_ARROW,strokeColor:n,fillColor:n,fillOpacity:1,rotation:u||0,scale:10,strokeWeight:1},position:l,zIndex:i.maps.Marker.MAX_ZINDEX}}))}function D(e){var t=e.fetchedAt,n=e.station;return o.a.createElement("div",null,o.a.createElement("ul",null,o.a.createElement("li",null,"[".concat(n.number.toString().padStart(4,"0"),"] ").concat(n.name).concat(n.operative?"":" (CLOSED)")),o.a.createElement("li",null,"".concat(n.bikes," bikes / ").concat(n.free," slots (").concat(n.total," total)")),o.a.createElement("li",null,o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.google.com/maps/dir/?api=".concat(1,"&travelmode=bicycling&destination=",n.lat,",").concat(n.lng)},"".concat(n.lat,", ").concat(n.lng))),o.a.createElement("li",null,"Last Updated: ".concat(t.fromNow()))))}function G(e){return'<svg width="100px" height="100px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">\n  <path id="bg" fill="#ffffff" d="m77.438,31.70225c-0.139,-5.802 -1.797,-10.248 -4.202,-14.012c-2.307,-3.607 -5.341,-6.666 -9.258,-8.958c-4.793,-2.803 -11.556,-4.639 -18.766,-3.553c-8.819,1.33 -15.391,6.39 -19.316,12.561c-2.385,3.752 -4.039,8.341 -4.152,14.062c-0.117,5.854 1.706,10.369 3.954,14.261c1.122,1.948 2.132,3.929 3.302,5.805c3.504,5.621 7.291,10.97 10.559,16.765c4.406,7.812 8.044,16.242 10.108,26.371c2.984,-15.367 9.802,-26.583 17.063,-37.58c2.439,-3.692 4.867,-7.382 6.806,-11.41c0.993,-2.063 2.107,-3.996 2.803,-6.306c0.684,-2.283 1.172,-5.035 1.099,-8.006z"/>\n  <path id="fill" fill="'.concat(e,'" d="M77.438,31.834c-0.139-5.802-1.797-10.248-4.202-14.012c-2.307-3.607-5.341-6.666-9.258-8.958   c-4.793-2.803-11.556-4.639-18.766-3.553c-8.819,1.33-15.391,6.39-19.316,12.561c-2.385,3.752-4.039,8.341-4.152,14.062   c-0.117,5.854,1.706,10.369,3.954,14.261C26.82,48.143,27.83,50.124,29,52c3.504,5.621,7.291,10.97,10.559,16.765   c4.406,7.812,8.044,16.242,10.108,26.371c2.984-15.367,9.802-26.583,17.063-37.58c2.439-3.692,4.867-7.382,6.806-11.41   c0.993-2.063,2.107-3.996,2.803-6.306C77.023,37.557,77.511,34.805,77.438,31.834z M49.685,52.47   c-11.004,0-19.923-8.92-19.923-19.923c0-11.002,8.919-19.922,19.923-19.922c11.003,0,19.923,8.92,19.923,19.922   C69.607,43.55,60.688,52.47,49.685,52.47z"/>\n</svg>')}function U(e){return"data:image/svg+xml;charset=UTF-8,".concat(encodeURIComponent(e))}var R=10,F=5,P=U(G("forestgreen")),T=U(G("coral")),V=U(G("crimson"));function H(e){return e>R?P:e>F?T:V}function z(e){var t=y();return{url:H(e),labelOrigin:new t.maps.Point(49,33)}}function W(e){var t=e.bikes,n=e.free,r=e.id,i=e.lat,c=e.lng,u=e.showInfo,l=Object(a.useMemo)(function(){return{icon:z(t),label:{text:"".concat(t," | ").concat(n),fontSize:"0.75rem",fontWeight:"bold"},position:{lat:i,lng:c}}},[t,n,i,c]),p=Object(a.useCallback)(function(){return u(r)},[r,u]);return o.a.createElement(s.g,{onClick:p,opts:l})}var Q=n(24),q=n.n(Q);var J=n(25),Y=n.n(J),Z=n(26),K=n.n(Z),X=n(27),$=n.n(X),ee=13;function te(e){var t=e.fetchedAt,n=e.location,r=e.stations,i=e.updateStations,c=e.position,u=Object(a.useContext)(s.c).state,l=(u=void 0===u?{}:u).map,p=void 0===l?void 0:l,m=Object(a.useState)(!0),d=Object(h.a)(m,2),g=d[0],b=d[1],v=Object(a.useState)([]),w=Object(h.a)(v,2),A=w[0],E=w[1],j=Object(a.useState)(),k=Object(h.a)(j,2),C=k[0],_=k[1],N=O(),I=Object(h.a)(N,1)[0],M=function(){var e=Object(a.useContext)(s.c),t=e.dispatch,n=e.state,r=Object(a.useMemo)(function(){if(n&&n.map)return new q.a(n.map,[],{averageCenter:!0,gridSize:60,maxZoom:17,enableRetinaIcons:!0})},[n]),i=Object(a.useState)(),c=Object(h.a)(i,2),u=c[0],l=c[1],p=Object(a.useCallback)(function(e){return u?o.a.createElement(s.c.Provider,Object.assign({value:u},e)):null},[u]),m=O(),f=Object(h.a)(m,1)[0];return Object(a.useEffect)(function(){!u&&r&&n&&l({dispatch:function(e){var a=e.type,o=e.id,i=e.object;if(r&&n&&n.objects)switch(a){case"add_object":i&&i instanceof f.maps.Marker&&r.addMarker(i);break;case"remove_object":if(o){var s=n.objects.get(o);s&&s instanceof f.maps.Marker&&r.removeMarker(s)}}t(e)},state:n})},[r,u,t,f.maps.Marker,n]),p}(),G=Object(a.useCallback)(function(){var e=function(e,t){if(!e||0===t.length)return;var n=y(!1),a=new n.maps.LatLng(e.coords.latitude,e.coords.longitude);return t.map(function(e){return{station:e,distance:n.maps.geometry.spherical.computeDistanceBetween(a,new n.maps.LatLng(e.lat,e.lng))}}).sort(function(e,t){return e.distance-t.distance})[0].station}(c,A);e&&(e===C?p&&p.panTo(e):(b(!1),_(e)))},[p,c,C,A]),U=Object(a.useCallback)(function(){if(p){var e=function(e){if(e){var t=e.coords,n=t.latitude,a=t.longitude,o=y();return new o.maps.LatLng(n,a)}return}(c),t=function(e){if(e){var t=e.coords.accuracy;return Math.min(20,Math.max(1,Math.log2(591657550/t)-6))}return}(c);e&&p.setCenter(e),t&&p.setZoom(t)}},[p,c]),R=Object(a.useCallback)(function(e){_(A.filter(function(t){return t.number===e}).shift())},[A]),F=Object(a.useCallback)(function(){_(void 0)},[]),P=Object(a.useCallback)(function(){if(!p||!C)return null;var e=C.lat,n=C.lng;return o.a.createElement(s.e,{onCloseClick:F,opts:{position:{lat:e,lng:n},pixelOffset:new I.maps.Size(0,-100)},visible:!0},o.a.createElement(D,{fetchedAt:t,station:C}))},[t,I.maps.Size,F,p,C]),T=Object(a.useCallback)(function(){return p&&c&&c.coords&&c.timestamp?o.a.createElement(B,{coords:c.coords,timestamp:c.timestamp}):null},[p,c]),V=Object(a.useCallback)(function(){b(!1)},[]),H=Object(a.useCallback)(function(){g?U():b(!0)},[U,g]);return Object(a.useEffect)(function(){var e=[];r.forEach(function(t){t.valid||console.debug("Bad Station Found",t),e.push(t)}),function(e,t){if(e.length!==t.length)return!1;var n=e.sort(function(e,t){var n=e.number,a=void 0===n?0:n,o=t.number,r=void 0===o?0:o;return a-r}),a=t.sort(function(e,t){var n=e.number,a=void 0===n?0:n,o=t.number,r=void 0===o?0:o;return a-r});return n.every(function(e,t){return function(e,t){return e.number===t.number&&e.valid===t.valid&&JSON.stringify(e.data)===JSON.stringify(t.data)}(e,a[t])})}(A,e)||E(e)},[r,A]),Object(a.useEffect)(function(){g&&U()},[g,c,U]),o.a.createElement("div",{className:$.a.MapContainer},o.a.createElement(s.f,{apiKey:"AIzaSyBXrYScIU6sWYUWLLlovYhzq-bLzwTgAoc",opts:{center:n,zoom:ee},onClick:F,onDrag:V,LoadingComponent:o.a.createElement(f,null),useDrawing:!0,useGeometry:!0,usePlaces:!0,useVisualization:!0}),o.a.createElement(s.a,null),o.a.createElement(S,{bindingPosition:"BOTTOM_CENTER"},o.a.createElement(x,{onClick:i},o.a.createElement("img",{alt:"Update stations",src:Y.a}))),o.a.createElement(S,{bindingPosition:"BOTTOM_CENTER"},o.a.createElement(L,{followGps:g,position:c,onClick:H})),o.a.createElement(S,{bindingPosition:"BOTTOM_CENTER"},o.a.createElement(x,{onClick:G},o.a.createElement("img",{alt:"Nearest stations",src:K.a}))),p&&A.length>0&&o.a.createElement(M,null,A.map(function(e){var t=e.bikes,n=e.free,a=e.lat,r=e.lng,i=e.number;return o.a.createElement(W,{key:i,bikes:t,free:n,id:i,lat:a,lng:r,showInfo:R})})),T(),P())}var ne=n(6),ae=n.n(ne),oe={enableHighAccuracy:!0};var re,ie=n(9),se=n.n(ie),ce=n(15),ue=n(28),le=n(16),pe=n(29),me=n.n(pe),fe=n(11);function de(e){var t=function(e){var t=e.name;try{var n=/^(\d+)\s+(.*)$/.exec(t);if(!n)throw new Error('Unable to parse "number name" from '.concat(t));return{name:n[2],number:Number(n[1])}}catch(a){return{nameNumberError:a}}}(e),n=t.nameNumberError,a=t.name,o=t.number,r=function(e){var t=e.coordinates;try{var n=/^\s*(-?\d+\.\d+)\s*,\s*(-?\d+\.\d+)\s*$/.exec(t);if(!n)throw new Error('Unable to parse "lat, lng" from '.concat(t));return{lat:Number(n[1]),lng:Number(n[2])}}catch(a){return{latLngError:a}}}(e),i=r.lat,s=r.latLngError,c=r.lng,u=Object(fe.a)({},e,{bikes:e.avl_bikes,free:e.free_slots,lat:i,lng:c,name:a,number:o,operative:e.operative,total:e.total_slots,errors:[]});return n&&u.errors.push(n),s&&u.errors.push(s),function(e){return Object(fe.a)({data:e,valid:[Number.isInteger(e.bikes),Number.isInteger(e.free),Number.isInteger(e.total),null!=e.number&&Number.isInteger(e.number)&&e.number>0,null!=e.lat&&Number.isFinite(e.lat)&&0!==e.lat,null!=e.lng&&Number.isFinite(e.lng)&&0!==e.lng,null!=e.name&&/^\w/.test(e.name),0===e.errors.length].every(function(e){return e})},e)}(u)}function ge(e){return e.result.map(de)}!function(e){e[e.Smoove=0]="Smoove"}(re||(re={}));var be=new Map([["test",{location:{lat:49.279627,lng:-123.121116},name:"Test Data",type:"Smoove",uri:"/test_data"}],["vancouver",{location:{lat:49.279627,lng:-123.121116},name:"Mobi Bike Vancouver",type:"Smoove",uri:"http://vancouver-ca.smoove.pro/api-public/stations",cors:!0}]]);var ve=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(ue.a)(this,e),this.config=void 0,this.verboseOutput=void 0,this.transform=void 0,this.config=t,this.transform=n,this.verboseOutput=a}return Object(le.a)(e,null,[{key:"create",value:function(t,n){var a=n.debug,o="string"===typeof t?function(e){var t=be.get(e);if(!t)throw new Error("No station data for source '".concat(e,"'"));return t}(t):t;return new e(o,function(e){var t=e.type;switch(t){case"Smoove":return ge;default:throw new Error("Invalid Configuration '".concat(t,"'"))}}(o),a)}},{key:"nearest",value:function(t,n){return e.create(function(e){var t=y(!1);return Array.from(be.values()).map(function(n){return{config:n,distance:t.maps.geometry.spherical.computeDistanceBetween(new t.maps.LatLng(e),new t.maps.LatLng(n.location.lat,n.location.lng))}}).sort(function(e,t){return e.distance-t.distance})[0].config}(t),n)}}]),Object(le.a)(e,[{key:"getJSON",value:function(){var e=Object(ce.a)(se.a.mark(function e(){var t,n,a;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config.cors?"https://cors.io/?".concat(this.config.uri):this.config.uri,this.debug("Fetching stations from '".concat(t,"' ...")),e.next=4,me()(t,{headers:this.config.options?this.config.options.headers:void 0});case 4:return n=e.sent,a=n.json(),this.debug("Fetch Response",a),e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getStations",value:function(){var e=Object(ce.a)(se.a.mark(function e(){var t,n;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getJSON();case 3:return t=e.sent,n=this.transform(t),this.debug("Fetched ".concat(n.length," stations")),e.abrupt("return",{config:this.config,fetchedAt:ae()(),stations:n});case 9:return e.prev=9,e.t0=e.catch(0),this.debug("Fetch failed: ".concat(e.t0.message||"Unknown Error"),e.t0),e.abrupt("return",{config:this.config,error:e.t0,fetchedAt:ae()(),stations:[]});case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"debug",value:function(e){if(this.verboseOutput){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];console.log(e,n)}}}]),e}(),he="vancouver";function we(e){var t=function(e){return e?{debug:Boolean(e.get("debug")),sourceName:e.get("source")||e.get("test")&&"test"||he}:{}}(e.params),n=t.debug,o=t.sourceName,r=Object(a.useState)(),i=Object(h.a)(r,2),s=i[0],c=i[1],u=Object(a.useMemo)(function(){return o?ve.create(o,{debug:n}):null},[n,o]),l=Object(a.useCallback)(function(){if(u)return u.getStations().then(c)},[u]);return Object(a.useEffect)(function(){u&&l()},[u,l]),Object(a.useDebugValue)(s?"".concat(s.stations.length," stations loaded (").concat(s.fetchedAt.fromNow(),")"):"Loading..."),{stationSourceResult:s,updateStations:l}}var ye=n(17),Oe=n.n(ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(63);i.a.render(o.a.createElement(function(){var e=function(){var e=Object(a.useState)(),t=Object(h.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)(function(){if("undefined"!==typeof window&&!n){var e=new Map;new URLSearchParams(window.location.search).forEach(function(t,n){e.set(n.toLowerCase(),t)}),o(e)}},[n]),Object(a.useDebugValue)("undefined"===typeof window?"Loading...":window.location.search),{params:n}}().params,t=function(e){var t=e.options,n=Object(a.useState)(),o=Object(h.a)(n,2),r=o[0],i=o[1],s=Object(a.useState)(),c=Object(h.a)(s,2),u=c[0],l=c[1],p=Object(a.useState)(),m=Object(h.a)(p,2),f=m[0],d=m[1],g=Object(a.useCallback)(l,[l]),b=Object(a.useCallback)(d,[d]),v=Object(a.useCallback)(function(){"undefined"!==typeof navigator&&navigator.geolocation.getCurrentPosition(g,b,t||oe)},[b,g,t]);return Object(a.useEffect)(function(){if(!r&&"undefined"!==typeof navigator){var e=navigator.geolocation.watchPosition(g,b,t||oe);return i(e),function(){r&&(navigator.geolocation.clearWatch(r),i(void 0))}}},[b,g,t,r]),Object(a.useDebugValue)(u?"[".concat(u.coords.latitude,", ").concat(u.coords.longitude,"] @ ").concat(ae()(u.timestamp).fromNow()):"Loading..."),{error:f,position:u,updatePosition:v}}({params:e}).position,n=we({params:e}),r=n.stationSourceResult,i=n.updateStations;return o.a.createElement("div",{className:Oe.a.Container},o.a.createElement(v,null),o.a.createElement("div",{className:Oe.a.Content},r?o.a.createElement(s.d,null,o.a.createElement(te,{fetchedAt:r.fetchedAt,location:r.config.location,stations:r.stations,position:t,updateStations:i})):o.a.createElement(f,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports={GpsButton:"GpsCenterButton_GpsButton__2-_NB",GpsIconInactive:"GpsCenterButton_GpsIconInactive__2Re2k",GpsIcon:"GpsCenterButton_GpsIcon__1kSXV",GpsIconActive:"GpsCenterButton_GpsIconActive__3fpf4"}}},[[31,1,2]]]);
//# sourceMappingURL=main.6faf190a.chunk.js.map